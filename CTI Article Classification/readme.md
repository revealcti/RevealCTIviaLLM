CTI Article Classification

## Introduction
The CTIKG can use sentence classification models to infer the tactics and behavior labels of each sentence in a CTI article, and convert them into a vector. The CTIKG can also identify the CTI sentences, and embed them into another vector. Based on these two vectors, the CTIKG can transform an article into a single vector and use a DNN model to classify it as a CTI or non-CTI article. The label vector consists of the following information:
The first part of vector consists of the following information:

• Overall Sentence Statistics

• IOC Words Statistics

• Sentence with Attack Tactic Statistics

• Sentence Classification Results Embedding

The embedding of CTI sentences is generated by the following Simple Transformers model:
•encode_sentences() function output from simpletransformers.language_representation.RepresentationModel object

## Evaluation
We labeled 3,588 articles from all articles, with their article type. In total, we have 1,799 CTI articles and 1,789 non-CTI articles. We use the following structure to train the DNN with default parameters and Adam optimizer. 

<p align="center">
  <img src="https://i.imgur.com/A5d184e.png">
</p>
<p align="center">
  <b> Figure: DNN Structure </b>
</p>

By varying the threshold, we can adjust recall and precision, and by trying various combinations of thresholds, we use a threshold of 0.2 to achieve the best recall of **90.5%** while maintaining a reasonably good precision of **75.7%**.

<p align="center">
  <img src="https://i.ibb.co/d40Mwh8/articlecruve.png">
</p>
<p align="center">
  <b> Figure:Precision, Recall and F1-score in different threshold </b>
</p>

## Workflow
1. Use the **CTI Sentence Identification models** to label each sentence in all articles with tactics and behavior label.
2. Calculate the statistics for the sentences, IOC words, and tactics of all sentences in each article, and load the **CTI Sentence Tactic Classification model**  as **RepresentationModel** model to embed the CTI sentences in each article into a vector. Use PCA to reduce the dimension of the sentence vector, and save it as **article.csv** file.
2. Run the **Functions** cell in the **Article Embedding and Classification.ipynb** notebook to load the related functions, and run the **Load the data** cell to load the **article_part_X.csv** file.
3. Run the **Model training and evaluation** cell in the Article Embedding and Classification.ipynb notebook to train the DNN model.
4. Run the **Draw the curve of precision, recall and F1-score in different threshold cell** to plot the curve of performance in different thresholds, and select the best threshold.
